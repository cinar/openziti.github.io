"use strict";(self.webpackChunkopen_ziti=self.webpackChunkopen_ziti||[]).push([[222],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>y});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(n),m=a,y=p["".concat(c,".").concat(m)]||p[m]||d[m]||i;return n?r.createElement(y,o(o({ref:t},u),{},{components:n})):r.createElement(y,o({ref:t},u))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[p]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(67294),a=n(86010);const i="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(i,o),hidden:n},t)}},65488:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(87462),a=n(67294),i=n(86010),o=n(72389),l=n(67392),c=n(7094),s=n(12466);const u="tabList__CuJ",p="tabItem_LNqP";function d(e){const{lazy:t,block:n,defaultValue:o,values:d,groupId:m,className:y}=e,h=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),g=d??h.map((e=>{let{props:{value:t,label:n,attributes:r}}=e;return{value:t,label:n,attributes:r}})),b=(0,l.l)(g,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const f=null===o?o:o??h.find((e=>e.props.default))?.props.value??h[0].props.value;if(null!==f&&!g.some((e=>e.value===f)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${f}" but none of its children has the corresponding value. Available values are: ${g.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:v}=(0,c.U)(),[N,w]=(0,a.useState)(f),C=[],{blockElementScrollPositionUntilNextRender:E}=(0,s.o5)();if(null!=m){const e=k[m];null!=e&&e!==N&&g.some((t=>t.value===e))&&w(e)}const T=e=>{const t=e.currentTarget,n=C.indexOf(t),r=g[n].value;r!==N&&(E(t),w(r),null!=m&&v(m,String(r)))},P=e=>{let t=null;switch(e.key){case"Enter":T(e);break;case"ArrowRight":{const n=C.indexOf(e.currentTarget)+1;t=C[n]??C[0];break}case"ArrowLeft":{const n=C.indexOf(e.currentTarget)-1;t=C[n]??C[C.length-1];break}}t?.focus()};return a.createElement("div",{className:(0,i.Z)("tabs-container",u)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},y)},g.map((e=>{let{value:t,label:n,attributes:o}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>C.push(e),onKeyDown:P,onClick:T},o,{className:(0,i.Z)("tabs__item",p,o?.className,{"tabs__item--active":N===t})}),n??t)}))),t?(0,a.cloneElement)(h.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},h.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function m(e){const t=(0,o.Z)();return a.createElement(d,(0,r.Z)({key:String(t)},e))}},20476:(e,t,n)=>{n.d(t,{ZP:()=>o});var r=n(87462),a=(n(67294),n(3905));const i={toc:[]};function o(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("br",null),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"ziti")," CLI will help you get a session from the controller's management API. You will be prompted to trust any new server certificates. Your session cache and trust store are managed by the CLI in your home directory."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# implies https://localhost:1280\nziti edge login -u admin -p admin\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# implies https://\nziti edge login ziti.example.com:8441 -u admin -p admin\n")))}o.isMDXComponent=!0},77330:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>m,default:()=>f,frontMatter:()=>d,metadata:()=>y,toc:()=>g});var r=n(87462),a=(n(67294),n(3905)),i=n(65488),o=n(85162);const l={toc:[]};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},'On the left side nav bar, click "Ziti Policies"'),(0,a.kt)("li",{parentName:"ol"},'It should already be selected, but if not, on the top nav bar, click "Edge Router Policies"'),(0,a.kt)("li",{parentName:"ol"},'In the top right corner of the screen click the "plus" image to add a new Edge Router Policy'),(0,a.kt)("li",{parentName:"ol"},'Choose a name for the Edge Router Policy, such as "My Edge Router Policy"'),(0,a.kt)("li",{parentName:"ol"},"Enter the edge routers you want to include in the policy",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"Specific edge routers can be referenced by ID or name using ",(0,a.kt)("inlineCode",{parentName:"li"},"@"),".  For example, an edge router called ",(0,a.kt)("inlineCode",{parentName:"li"},"us-east-4")," can be referenced using ",(0,a.kt)("inlineCode",{parentName:"li"},"@us-east-4"),". "),(0,a.kt)("li",{parentName:"ol"},"Edge routers can be referenced by role attribute using ",(0,a.kt)("inlineCode",{parentName:"li"},"#"),". For example, any edge router which has the ",(0,a.kt)("inlineCode",{parentName:"li"},"us-seast")," role attribute will be included if ",(0,a.kt)("inlineCode",{parentName:"li"},"#us-east")," is included in the edge routers roles list."))),(0,a.kt)("li",{parentName:"ol"},"Enter the identities you want to include in the policy",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"Specific identities can be referenced by ID or name using ",(0,a.kt)("inlineCode",{parentName:"li"},"@"),".  For example, as identity called ",(0,a.kt)("inlineCode",{parentName:"li"},"jsmith-desktop")," can be referenced using ",(0,a.kt)("inlineCode",{parentName:"li"},"@jsmith-desktop"),". "),(0,a.kt)("li",{parentName:"ol"},"Identities can be referenced by role attribute using ",(0,a.kt)("inlineCode",{parentName:"li"},"#"),". For example, any identity which has the ",(0,a.kt)("inlineCode",{parentName:"li"},"sales")," role attribute will be included if ",(0,a.kt)("inlineCode",{parentName:"li"},"#sales")," is included in the identities roles list."))),(0,a.kt)("li",{parentName:"ol"},"Specify the role semantic",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"If you select ",(0,a.kt)("inlineCode",{parentName:"li"},"Has Any Role")," then if you specify multiple roles then all entities which include ",(0,a.kt)("strong",{parentName:"li"},"any")," of the roles will be included."),(0,a.kt)("li",{parentName:"ol"},"If you select ",(0,a.kt)("inlineCode",{parentName:"li"},"Must Have All Roles"),", then if you specify multiple roles then only entities which include ",(0,a.kt)("strong",{parentName:"li"},"all")," of the given roles will be included    "))),(0,a.kt)("li",{parentName:"ol"},"Click save")))}c.isMDXComponent=!0;var s=n(20476);const u={toc:[]};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"To create an Edge Router Policy using the CLI issue the following commands."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"ensure you are logged in with the CLI."),(0,a.kt)(s.ZP,{mdxType:"CliLoginMd"})),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Create an edge router policy named ",(0,a.kt)("inlineCode",{parentName:"p"},"my-policy")," which allows all identities to use all routers."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"ziti edge create edge-router-policy my-policy --identity-roles '#all' --edge-router-roles '#all'\n")))))}p.isMDXComponent=!0;const d={},m="Creating an Edge Router Policy",y={unversionedId:"learn/core-concepts/security/authorization/policies/creating-edge-router-policies",id:"learn/core-concepts/security/authorization/policies/creating-edge-router-policies",title:"Creating an Edge Router Policy",description:"",source:"@site/docs/learn/core-concepts/security/authorization/policies/creating-edge-router-policies.mdx",sourceDirName:"learn/core-concepts/security/authorization/policies",slug:"/learn/core-concepts/security/authorization/policies/creating-edge-router-policies",permalink:"/docs/learn/core-concepts/security/authorization/policies/creating-edge-router-policies",draft:!1,editUrl:"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/learn/core-concepts/security/authorization/policies/creating-edge-router-policies.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Policies",permalink:"/docs/learn/core-concepts/security/authorization/policies/overview"},next:{title:"Creating a Service Edge Router Policy",permalink:"/docs/learn/core-concepts/security/authorization/policies/creating-service-edge-router-policies"}},h={},g=[],b={toc:g};function f(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"creating-an-edge-router-policy"},"Creating an Edge Router Policy"),(0,a.kt)(i.Z,{mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"tabid-new-edge-router-policy-ui",label:"New Edge Router Policy via UI",mdxType:"TabItem"},(0,a.kt)(c,{mdxType:"CreateERPUIMD"})),(0,a.kt)(o.Z,{value:"tabid-new-edge-router-policy-cli",label:"New Edge Router Policy via CLI",mdxType:"TabItem"},(0,a.kt)(p,{mdxType:"CreateERPCLIMD"}))))}f.isMDXComponent=!0}}]);