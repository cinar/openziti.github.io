<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Quickstart | Ziti </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Quickstart | Ziti ">
    <meta name="generator" content="docfx 2.x">
    
    <link rel="shortcut icon" href="../../images/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
    <!--span>this is text</span-->
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&amp;display=swap" rel="stylesheet">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/ziti-logo-40.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div style="display: flex;">
                    <div class="form-group" style="valign: center;position: relative;">
                      <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                    </div>
                    <div style="position: relative">
                        &nbsp;
                    </div>
                    <div style="position: relative">
                        <a href="https://github.com/openziti">
                            <img src="../../images/github-white.svg" alt="Star us on GitHub" title="Star us on GitHub" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://openziti.discourse.group">
                            <img src="../../images/discourse_icon_halo.svg" alt="Start a conversation on Discourse" title="Start a conversation on Discourse" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://twitter.com/openziti">
                            <img src="../../images/twit.svg" alt="Follow us on Twitter" title="Follow us on Twitter" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://www.youtube.com/channel/UCAsrfQasdZmp2Gq07Ej_5cQ">
                            <img src="../../images/yt.svg" alt="Watch videos about OpenZiti" title="Watch videos about OpenZiti" height="34px">
                        </a>
                    </div>
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default" name="new">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
          <div style="display:flex; align-items: center; justify-content: center; flex-direction:row; position: relative; width: 100%; text-align: center; background: rgb(0,104,247); background: linear-gradient(90deg, rgba(0,104,247,1) 0%, rgba(222,14,91,1) 100%);">
            <span style="margin-top: 5px; color: white; margin-right: 10px; height:25px">Star us on GitHub</span>
            <span style="margin-top: 5px;"><a class="github-button" href="https://github.com/openziti/ziti" data-icon="octicon-star" data-show-count="true" aria-label="Star openziti/ziti on GitHub">Star</a></span>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="quickstart">Quickstart</h1>

<p>This directory contains a set of scripts designed to make it easy to establish a starter overlay network.
The expectation is that these scripts and docker image are useful for learning or for establishing 
simple networks. As with any solution it is common for additional changes to the configuration to be required
after expanding beyond the initial setup.</p>
<p>There are three different modes contained in these folders. One mode allows you very quickly get setup and
run the two main components  of a Ziti network: ziti-controller and ziti-router. The <a href="#express">Express</a>
configuration will guide you here.</p>
<p>The remaining two modes all use <a href="https://docs.docker.com/get-started/">docker</a> to establish environments.
The first of the docker-based quickstarts uses <a href="https://docs.docker.com/compose/">docker-compose</a>. 
You will find a fully defined Ziti Network in a compose file which should allow you to understand better
and learn how multiple routers can be linked to form a mesh network or serve as an initial
template to build your own compose file from.</p>
<p>Lastly, you can choose to run <a href="https://docs.docker.com/get-started/">docker</a> directly. This mode is necessarily
more verbose but should you prefer to not use docker-compose it can also illustrate how to establish
a Ziti Network piece by piece.</p>
<h2 id="prerequisites">Prerequisites</h2>
<h3 id="bash">Bash</h3>
<p>All of these quickstarts will use bash. On MacOS/linux this will be natural however on Windows you&#39;ll want
to ensure you have a suitable shell. There are numerous shells available but perhaps the simplest will be
to use <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows Subsystem for Linux (WSL)</a>. You 
might also use git-bash, cygwin, or any other bash shell you fancy.</p>
<h3 id="dockerdocker-compose">Docker/Docker Compose</h3>
<p>If you are interested in using the quickstarts which use docker/docker-compose you will clearly need to
have one or both installed and be moderately familiar with whichever you are using.</p>
<h3 id="review-all-scripts">Review All Scripts</h3>
<p>Remember - it&#39;s always a good idea to review any scripts before you run them. We encourage you to review
the scripts in these folders before running them.</p>
<h2 id="express">Express</h2>
<p>By far the easiest way to establish an environment quickly is to simply run the express install script
found at <a href="">./quickstart/local/express/express-dev-env.sh</a>. </p>
<h3 id="what-it-does">What It Does</h3>
<p>The express install script will do quite a few things to get you bootstrapped.  It will:</p>
<ol>
<li>create a full suite of configuration files located by default at ~/.ziti/quickstart/$(hostname)<ol>
<li>create a full suite of PKI</li>
<li>create a config file for the controller</li>
<li>create a config file for an edge router</li>
</ol>
</li>
<li>download the latest distribution of ziti from github.com/openziti/ziti/releases</li>
<li>unzip the distribution</li>
<li>start the <code>ziti-controller</code> and <code>ziti-router</code> executables</li>
<li>the <code>ziti-controller</code> should now be exposed on https://$(hostname):1280</li>
</ol>
<h2 id="docker---compose">Docker - Compose</h2>
<p>The <a href="https://docs.docker.com/compose/">docker-compose</a> based example will create numerous <code>ziti-router</code>s 
as well as spooling up a <code>ziti-controller</code> and expose the controller on port 1280. This configuration is intended to
look and feel like the following image:
<img src="docker-compose-nw.svg" alt="image info"></p>
<p>Here, a simple Ziti Network is shown which contains two public Ziti Edge Routers, one router without the &quot;edge&quot; enabled
and usable only for transit, and two private edge routers: one blue, one red. The goal with this setup is to attempt to
have a single isolated service that is not accessible from outside of the blue network (as best as possible with 
only docker).</p>
<h2 id="docker---no-compose">Docker - No Compose</h2>
<p>You can still startup a dev environment easily with <a href="https://docs.docker.com/get-started/">docker</a> only. In this example
you will start a Ziti Controller as well as a single Ziti Edge Router.</p>
<h3 id="prerequisite">Prerequisite</h3>
<p>Since the openziti project is all about creating overlay networks - it&#39;s important for the docker containers to be
able to communicate to one another. This is accomplished using a docker network and setting the alias of the container 
on that docker network.</p>
<p>Before running the commands below please do the following:</p>
<pre><code>  #declare a variable that defines the &#39;network&#39;
  zitinw=&quot;myZitiNetwork&quot;

  #declare a fully qualified path to the location you want your shared files to go and create it
  zitinw_shared=&quot;${HOME}/.ziti/dockerenvs/${zitinw}&quot;
  mkdir -p &quot;${zitinw_shared}&quot;

  #make a docker network for isolation while allowing the parts to be able to interact
  docker network create &quot;$zitinw&quot;
</code></pre><h3 id="starting-the-containers">Starting the Containers</h3>
<p>To start the containers you can simply run these two commands in two different shells. (or choose to daemonize them
once you&#39;re ready to do so). Take special note of the initial variables used in these commands. The ${zitinw} variable
is expected to be set. See the Prerequisite section above:</p>
<p>Ziti Controller:</p>
<pre><code>docker run -d --name &quot;${zitinw}-controller&quot; --volume &quot;${zitinw_shared}&quot;:/openziti/shared -it --network=&quot;${zitinw}&quot; --network-alias=ziti-controller --network-alias=ziti-edge-controller --rm openziti/quickstart /openziti/scripts/run-controller.sh
</code></pre><p>Ziti Edge Router:</p>
<pre><code>routerName=edge-router; docker run -d --name &quot;${zitinw}-${routerName}&quot; --rm -e ZITI_EDGE_ROUTER_RAWNAME=&quot;${routerName}&quot; --volume &quot;${zitinw_shared}&quot;:/openziti/shared -it --network=&quot;${zitinw}&quot; --hostname &quot;${routerName}&quot; --network-alias=&quot;${routerName}&quot; --rm openziti/quickstart /openziti/scripts/run-router.sh edge
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/openziti/ziti-doc/blob/master/quickstart/README.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span class='pull-left'><span><a href='https://netfoundry.io'>©2020 NetFoundry,Inc.</a></span>&nbsp;&nbsp;<span><a href='https://www.netfoundry.io/privacy-policy'>Privacy Policy</a></span>&nbsp;&nbsp;<span><a href='https://www.netfoundry.io/legal-items'>Legal</a></span>&nbsp;&nbsp;<span><a href='https://netfoundry.zendesk.com/hc/en-us'>Support</a></span>&nbsp;&nbsp;</span><span class='pull-right'><span><a href='https://www.facebook.com/NetFoundry/' target='_blank'><img height='25' src='/images/fb.svg'></a></span>&nbsp;<span><a href='https://twitter.com/openziti' target='_blank'><img height='25' src='/images/twit.svg'></a></span>&nbsp;<span><a href='https://www.linkedin.com/company/netfoundry/' target='_blank'><img height='25' src='/images/li.svg'></a></span>&nbsp;<span><a href='https://www.youtube.com/channel/UCAsrfQasdZmp2Gq07Ej_5cQ' target='_blank'><img height='25' src='/images/yt.svg'></a></span>&nbsp;&nbsp;&nbsp;</span><br>
<!-- Place this tag in your head or just before your close body tag. -->
<script async="" defer="" src="https://buttons.github.io/buttons.js"></script>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
