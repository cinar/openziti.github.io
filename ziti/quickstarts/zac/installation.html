<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Installing Ziti Administration Console | Ziti </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Installing Ziti Administration Console | Ziti ">
    <meta name="generator" content="docfx 2.x">
    
    <link rel="shortcut icon" href="../../../images/favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
    <!--span>this is text</span-->
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&amp;display=swap" rel="stylesheet">
    <meta name="google-site-verification" content="jfzf3259Xh6i82RehhnKg4aAsHd02v1MB-jP43wEqHI">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-THVRRJ3GLE"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'G-THVRRJ3GLE');
    </script>
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../images/ziti-logo-40.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div style="display: flex;">
                    <div class="form-group" style="valign: center;position: relative;">
                      <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                    </div>
                    <div style="position: relative">
                        &nbsp;
                    </div>
                    <div style="position: relative">
                        <a href="https://github.com/openziti">
                            <img src="../../../images/github-white.svg" alt="Star us on GitHub" title="Star us on GitHub" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://openziti.discourse.group">
                            <img src="../../../images/discourse_icon_halo.svg" alt="Start a conversation on Discourse" title="Start a conversation on Discourse" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://twitter.com/openziti">
                            <img src="../../../images/twit.svg" alt="Follow us on Twitter" title="Follow us on Twitter" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://www.youtube.com/channel/UCAsrfQasdZmp2Gq07Ej_5cQ">
                            <img src="../../../images/yt.svg" alt="Watch videos about OpenZiti" title="Watch videos about OpenZiti" height="34px">
                        </a>
                    </div>
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default" name="new">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
          <div style="display:flex; align-items: center; justify-content: center; flex-direction:row; position: relative; width: 100%; text-align: center;     background: rgb(0,104,247);
            background: linear-gradient(90deg, rgba(0,104,247,1) 0%, rgba(222,14,91,1) 100%);">
            <span style="margin-top: 5px; color: white; margin-right: 10px; height:25px">Star us on GitHub</span>
            <span style="margin-top: 5px;"><a class="github-button" href="https://github.com/openziti/ziti" data-icon="octicon-star" data-show-count="true" aria-label="Star openziti/ziti on GitHub">Star</a></span>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="installing-ziti-administration-console">Installing Ziti Administration Console</h1>

<p>The Ziti Administration Console (ZAC) is a UI provided by the OpenZiti project which will allow you to configure and 
explore a <a class="xref" href="../../overview.html#overview-of-a-ziti-network">Ziti Network</a>. Installing the ZAC is relatively straightforward 
and can be accomplished in two basic ways shown below.</p>
<h2 id="setting-up-the-ziti-admin-console">Setting up the Ziti Admin Console</h2>
<h3 id="prerequisites">Prerequisites</h3>
<p>It&#39;s expected that you&#39;re using <code>bash</code> for these commands. If you&#39;re using Windows we strongly recommend that you install 
and use Windows Subsystem for Linux (WSL). Other operating systems it&#39;s recommended you use <code>bash</code> unless you are able to 
translate to your shell accordingly. </p>
<div class="NOTE"><h5>Note</h5><p>When running Ziti Administration Console, you should also prefer using https over http. In order to do this you will need
to either create, or copy the certificates needed. Each section below tries to show you how to accomplish this on your own.</p>
</div>
<h3 id="cloning-from-github">Cloning From GitHub</h3>
<p>These steps are applicable to both the <a href="../network/local-no-docker.html">local, no docker</a> as well as the 
<a href="../network/hosted.html">hosted yourself</a> deployments. Do note, these steps expect you have the necessary 
environment variables established in your shell. If you used the default parameters, you can establish these variables 
using the file at <code>${HOME}/.ziti/quickstart/$(hostname)/$(hostname).env</code>. To deploy ZAC after following one of those guides,
you can perform the following steps.</p>
<ol>
<li><p>Clone the ziti-console repo from github:</p>
<pre><code class="lang-bash">git clone https://github.com/openziti/ziti-console.git &quot;${ZITI_HOME}/ziti-console&quot;
</code></pre></li>
<li><p>Install node and npm and get the server ready:</p>
<pre><code class="lang-bash">cd &quot;${ZITI_HOME}/ziti-console&quot;
sudo apt install npm nodejs -y
npm install
</code></pre></li>
<li><p>Use the ziti-controller certificates for the Ziti Console:</p>
<pre><code class="lang-bash">ln -s &quot;${ZITI_PKI}/${ZITI_EDGE_CONTROLLER_HOSTNAME}-intermediate/certs/${ZITI_EDGE_CONTROLLER_HOSTNAME}-server.chain.pem&quot; &quot;${ZITI_HOME}/ziti-console/server.chain.pem&quot;
ln -s &quot;${ZITI_PKI}/${ZITI_EDGE_CONTROLLER_HOSTNAME}-intermediate/keys/${ZITI_EDGE_CONTROLLER_HOSTNAME}-server.key&quot; &quot;${ZITI_HOME}/ziti-console/server.key&quot;
</code></pre></li>
<li><p>[Optional] Emit the Ziti Console systemd file and update systemd to start the Ziti Console. If you have not sourced the 
Ziti helper script, you need to in order to get the necessary function.</p>
<pre><code class="lang-bash">createZacSystemdFile
sudo cp &quot;${ZITI_HOME}/ziti-console.service&quot; /etc/systemd/system
sudo systemctl daemon-reload
sudo systemctl start ziti-console
</code></pre><p>If you do not have systemd installed or if you just wish to start ZAC you can simply issue:</p>
<pre><code class="lang-bash">node &quot;${ZITI_HOME}/ziti-console/server.js&quot;
Initializing TLS
TLS initialized on port: 8443
Ziti Server running on port 1408
</code></pre></li>
<li><p>[Optional] If using systemd - verify the Ziti Console is running by running the systemctl command 
<code>sudo systemctl status ziti-console --lines=0 --no-pager</code></p>
<pre><code class="lang-bash">#sample output of the command:
ubuntu@ip-172-31-22-212:~$ sudo systemctl status ziti-console --lines=0 --no-pager
● ziti-console.service - Ziti-Console
Loaded: loaded (/etc/systemd/system/ziti-console.service; disabled; vendor preset: enabled)
Active: active (running) since Wed 2021-05-19 22:04:44 UTC; 13h ago
Main PID: 13458 (node)
Tasks: 11 (limit: 1160)
Memory: 33.4M
CGroup: /system.slice/ziti-console.service
└─13458 /usr/bin/node /home/ubuntu/.ziti/quickstart/ip-172-31-22-212/ziti-console/server.js
</code></pre></li>
</ol>
<h3 id="using-docker">Using Docker</h3>
<p>Getting ZAC setup if you have followed the <a href="../network/local-with-docker.html">docker network quickstart</a> 
should be straightforward. If you have used the default values from this quickstart you can issue the following command. 
Notice that this command uses the default path: <code>${HOME}/docker-volume/myFirstZitiNetwork</code>. If you customized the path, 
replace the paths specified in the volume mount sections below accordingly (the &#39;-v&#39; lines). Also note this command will 
expose the http and https ports to your local computer. This is optional, read more about using docker for more details 
if necessary.</p>
<pre><code class="lang-bash">docker run \
       --name zac \
       -p 1408:1408 \
       -p 8443:8443 \
       -v &quot;${HOME}/docker-volume/myFirstZitiNetwork/ziti-edge-controller-intermediate/keys/ziti-edge-controller-server.key&quot;:/usr/src/app/server.key \
       -v &quot;${HOME}/docker-volume/myFirstZitiNetwork/ziti-edge-controller-intermediate/certs/ziti-edge-controller-server.chain.pem&quot;:/usr/src/app/server.chain.pem \
       openziti/zac
</code></pre><div class="NOTE"><h5>Note</h5><p>Do note that if you are exposing ports as shown above, you will need to ensure that <code>ziti-edge-controller</code> is 
addressable by your machine in order to use docker in this way. This guide does not go into how to do this in depth. 
One easy, and common mechanism to do this would be to edit the &#39;hosts&#39; file of your operating system. A quick 
internet search should show you how to accomplish this.</p>
</div>
<h3 id="using-docker-compose">Using Docker Compose</h3>
<p>If you have followed the <a href="../network/local-docker-compose.html">docker compose quickstart</a> getting the ZAC 
running within the compose file is a bit cumbersome because the docker-compose file will generate a full PKI on your 
behalf. While this makes it very easy to get a basic network setup, it makes reusing that PKI in the ZAC difficult at 
this time.  It&#39;s not difficult to reuse the PKI but you&#39;ll need to do the following:</p>
<ol>
<li>Start the network using <code>docker-compose</code> as normal.</li>
<li><p>After running, copy the <code>ziti-edge-controller</code> server certificate chain and key from the controller using these commands:</p>
<pre><code class="lang-bash">docker cp docker_ziti-controller_1:/openziti/pki/ziti-edge-controller-intermediate/keys/ziti-edge-controller-server.key .
docker cp docker_ziti-controller_1:/openziti/pki/ziti-edge-controller-intermediate/certs/ziti-edge-controller-server.chain.pem .
</code></pre></li>
<li><p>Once these files are copied out, shut down the running docker-compose <code>docker-compose down</code>. Do NOT remove the volume 
with <code>-v</code>.</p>
</li>
<li><p>Now add the ZAC configuration lines to the compose file of your choice:</p>
<pre><code class="lang-bash">  ziti-console:
    image: openziti/zac
    ports:
      - &quot;1408:1408&quot;
      - &quot;8443:8443&quot;
    environment:
      - ZITI_EDGE_CONTROLLER_HOSTNAME=ziti-edge-router
    volumes:
      - ziti-fs:/openziti
      - type: bind
        source: ./ziti-edge-controller-server.key
        target: /usr/src/app/server.key
      - type: bind
        source: ./ziti-edge-controller-server.chain.pem
        target: /usr/src/app/server.chain.pem

    networks:
      - zitiblue
      - zitired
</code></pre></li>
<li>After adding the ZAC configuration as shown, <code>docker-compose</code> will now start and expose the ZAC ports on 1408/8443.</li>
</ol>
<div class="NOTE"><h5>Note</h5><p>Do note that if you are exposing ports as shown above, you will need to ensure that <code>ziti-edge-controller</code> is
addressable by your machine in order to use docker in this way. This guide does not go into how to do this in depth.
One easy, and common mechanism to do this would be to edit the &#39;hosts&#39; file of your operating system. A quick
internet search should show you how to accomplish this.</p>
</div>
<h2 id="login-and-use-the-ziti-console">Login and use the Ziti Console</h2>
<ol>
<li>At this point you should be able to navigate to both: <code>https://${ZITI_EDGE_CONTROLLER_HOSTNAME}:8443</code>and see the ZAC login
screen. (The TLS warnings your browser will show you are normal - it&#39;s because these steps use a self-signed certificate
generated in the install process)</li>
</ol>
<div class="NOTE"><h5>Note</h5><p>If you are using docker-compose to start your network, when you access ZAC for the first time you will need to 
specify the url of the controller. Since everything is running <strong>in</strong> docker compose this url is relative to the 
internal docker compose network that is declared in the compose file. You would enter 
<code>https://ziti-edge-controller:1280</code> as the controller&#39;s URL</p>
</div>
<ol>
<li><p>Set the controller as shown (use the correct URL):</p>
<ol>
<li><p>Example using the &quot;everything local&quot; quickstart:
<img src="zac_configure_local.png" alt="everything local"></p>
</li>
<li><p>Example using the &quot;docker-compose&quot; quickstart:
<img src="zac_configure_dc.png" alt="docker-compose">   </p>
</li>
<li><p>Example using AWS &quot;host it anywhere&quot;:
<img src="zac_configure_hia.png" alt="host it anywhere"></p>
</li>
</ol>
</li>
<li><p>Login with admin/admin</p>
<p><img src="zac_login.png" alt="img_2.png"></p>
</li>
<li><p><strong>IMPORTANT!!!</strong> Edit your profile and change the password</p>
<p><img src="zac_change_pwd.png" alt="img_3.png"></p>
</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/openziti/ziti-doc/blob/master/docfx_project/ziti/quickstarts/zac/installation.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span class='pull-left'><span><a href='https://netfoundry.io'>©NetFoundry Inc.</a></span>&nbsp;&nbsp;<span><a href='https://www.netfoundry.io/privacy-policy'>Privacy Policy</a></span>&nbsp;&nbsp;<span><a href='https://www.netfoundry.io/legal-items'>Legal</a></span>&nbsp;&nbsp;<span><a href='https://netfoundry.zendesk.com/hc/en-us'>Support</a></span>&nbsp;&nbsp;</span><span class='pull-right'><span><a href='https://www.facebook.com/NetFoundry/' target='_blank'><img height='25' src='/images/fb.svg'></a></span>&nbsp;<span><a href='https://twitter.com/openziti' target='_blank'><img height='25' src='/images/twit.svg'></a></span>&nbsp;<span><a href='https://www.linkedin.com/company/netfoundry/' target='_blank'><img height='25' src='/images/li.svg'></a></span>&nbsp;<span><a href='https://www.youtube.com/channel/UCAsrfQasdZmp2Gq07Ej_5cQ' target='_blank'><img height='25' src='/images/yt.svg'></a></span>&nbsp;&nbsp;&nbsp;</span><br>
<!-- Place this tag in your head or just before your close body tag. -->
<script async="" defer="" src="https://buttons.github.io/buttons.js"></script>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
