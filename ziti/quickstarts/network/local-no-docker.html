<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Local - No Docker | Ziti </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Local - No Docker | Ziti ">
    <meta name="generator" content="docfx 2.x">
    
    <link rel="shortcut icon" href="../../../images/favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
    <!--span>this is text</span-->
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&amp;display=swap" rel="stylesheet">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../images/ziti-logo-40.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div style="display: flex;">
                    <div class="form-group" style="valign: center;position: relative;">
                      <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                    </div>
                    <div style="position: relative">
                        &nbsp;
                    </div>
                    <div style="position: relative">
                        <a href="https://github.com/openziti">
                            <img src="../../../images/github-white.svg" alt="Star us on GitHub" title="Star us on GitHub" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://openziti.discourse.group">
                            <img src="../../../images/discourse_icon_halo.svg" alt="Start a conversation on Discourse" title="Start a conversation on Discourse" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://twitter.com/openziti">
                            <img src="../../../images/twit.svg" alt="Follow us on Twitter" title="Follow us on Twitter" height="34px">
                        </a>
                    </div>
                    <div style="position: relative">
                        <a href="https://www.youtube.com/channel/UCAsrfQasdZmp2Gq07Ej_5cQ">
                            <img src="../../../images/yt.svg" alt="Watch videos about OpenZiti" title="Watch videos about OpenZiti" height="34px">
                        </a>
                    </div>
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default" name="new">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
          <div style="display:flex; align-items: center; justify-content: center; flex-direction:row; position: relative; width: 100%; text-align: center; background-color: #eb9800">
            <span style="margin-top: 5px; color: white; margin-right: 10px; height:25px">Star us on GitHub</span>
            <span style="margin-top: 5px;"><a class="github-button" href="https://github.com/openziti/ziti" data-icon="octicon-star" data-show-count="true" aria-label="Star openziti/ziti on GitHub">Star</a></span>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="local---no-docker">Local - No Docker</h1>

<p>This page will show you how to get your <a href="../../overview.html#overview-of-a-ziti-network">Ziti Network</a> up and running 
quickly and easily, entirely locally. Since you&#39;ll be running everything locally, you&#39;ll have no issues communicating
between network components. All the processes will run locally, and you&#39;ll be responsible for starting and stopping them
when you want to turn the overlay network on or off.</p>
<h2 id="preparation">Preparation</h2>
<p>There is not much preparation necessary to getting up-and-running locally. At this time, this guide expects that
you&#39;ll be running commands within a <code>bash</code> shell. If you&#39;re running Windows, you will need to make sure you have 
Windows Subsystem for Linux installed for now. We plan to provide a Powershell script in the future, but for now the
script requires you to be able to use <code>bash</code>. Make sure your local ports 1280, 6262, 10000 are free before running the 
controller. These ports are the default ports used by the controller. Also ensure ports 10080 and 3022 are open as these 
are the default ports the edge router will use.</p>
<h2 id="one-liner-setup">One-liner Setup</h2>
<p>Running the latest version of Ziti locally is as simple as running this one command (the command will require the <code>jq</code> 
utility be installed):</p>
<pre><code>source /dev/stdin &lt;&lt;&lt; &quot;$(wget -qO- https://raw.githubusercontent.com/openziti/ziti/release-next/quickstart/docker/image/ziti-cli-functions.sh)&quot;; expressInstall
</code></pre><p>This script will perform an &#39;express&#39; install of Ziti which does the following:</p>
<ul>
<li>download the latest version of the Ziti components (<code>ziti</code>, <code>ziti-controller</code>, <code>ziti-edge-router</code>, <code>ziti-tunnel</code>)</li>
<li>extract the components into a predefined location: ~/.ziti/quickstart/$(hostname)</li>
<li>create a full PKI for you to explore</li>
<li>create a controller configuration using default values and the PKI created above</li>
<li>create an edge-router configuration using default values and the PKI created above </li>
<li>add helper functions and environment variables to your shell (explore the script to see all)</li>
</ul>
<h2 id="start-the-components">Start the Components</h2>
<p>Once the latest version of Ziti has been downloaded and added to your path, it&#39;s time to start your controller and 
edge router. </p>
<h3 id="start-your-controller">Start Your Controller</h3>
<p>Start your controller by running <code>startZitiController</code>. The location of the log file will be output for you to look
at, tail etc. Notice that this log is written to the given location. There is no log rotation. Once run, you will see
output that looks like the following:</p>
<pre><code class="lang-bash">ziti-controller started as process id: 7282. log located at: ${HOME}/.ziti/quickstart/My-Mac-mini.local.domain/ziti-edge-controller.log
</code></pre><h3 id="verify-the-controller-is-running">Verify the Controller is Running</h3>
<p>Assuming you have sourced the script, you will have an environment variable set named <code>$ZITI_EDGE_CONTROLLER_API</code>. After
the controller has started, your controller should be listening at that hostname:port combination. You can see what your
value is set to by running <code>echo $ZITI_EDGE_CONTROLLER_API</code>. This variable defaults to: <code>$(hostname):1280</code>. Make sure the
controller is on and listening and then start the edge router. </p>
<pre><code class="lang-bash">~ % echo $ZITI_EDGE_CONTROLLER_API
My-Mac-mini.local.domain:1280
</code></pre><h3 id="start-your-edge-router">Start Your Edge Router</h3>
<p>Now that the controller is ready, you can start the edge router created with the &#39;express&#39; process. You can start this 
router locally by running <code>startExpressEdgeRouter</code>.</p>
<p>You should see output that looks like this:</p>
<pre><code class="lang-bash">Express Edge Router started as process id: 7555. log located at: ${HOME}/.ziti/quickstart/My-Mac-mini.local.domain/My-Mac-mini.local.domain-edge-router.log
</code></pre><p>You can verify the edge router is listening by finding the value of <code>$ZITI_EDGE_ROUTER_HOSTNAME:$ZITI_EDGE_ROUTER_PORT</code>.
Again, this will default to using <code>$(hostname)</code> as the host name and port 3022. </p>
<h2 id="testing-your-overlay">Testing Your Overlay</h2>
<p>At this point you should have a functioning <a href="../../overview.html#overview-of-a-ziti-network">Ziti Network</a>. The script 
you sourced provides another function to login to your network. Try this now by running <code>zitiLogin</code>. You should see 
something similar to this:</p>
<pre><code class="lang-bash">~ % zitiLogin
Token: 40d2d280-a633-46c9-8499-ab2e005dd222
Saving identity &#39;default&#39; to ${HOME}/.ziti/quickstart/My-Mac-mini.local.domain/ziti-cli.json
</code></pre><p>Congratulations! You can now use the <code>ziti</code> CLI to interact with Ziti! (<a href="../../cli/cli.html">Ziti CLI Help Here</a>) The 
<code>ziti</code> binary is not added to your path by default but will be available at <code>&quot;${ZITI_BIN_DIR-}/ziti&quot;</code>. Add that folder
to your path, alias <code>ziti</code> if you like. Let&#39;s try to use this command to see if the edge router is online by running:
<code>&quot;${ZITI_BIN_DIR-}/ziti&quot; edge list edge-routers</code>.</p>
<pre><code class="lang-bash">~ % &quot;${ZITI_BIN_DIR-}/ziti&quot; edge list edge-routers
id: rhx6687N.P    name: My-Mac-mini.local.domain    isOnline: true    role attributes: {}
results: 1-1 of 1
</code></pre><p>Horray! Our edge router shows up and is online!</p>
<h2 id="run-your-first-service">Run Your First Service</h2>
<p>You can try out creating and running a simple echo service through ziti by running the <code>first-service</code> tutorial.</p>
<pre><code class="lang-bash">~ % &quot;${ZITI_BIN_DIR-}/ziti&quot; edge tutorial first-service
</code></pre><h2 id="customizing-the-express-install">Customizing the Express Install</h2>
<p>You can influence and customize the express installation somewhat if you wish. This is useful if trying to run more than
one instance of Ziti locally. The most common settings you might choose to customize would be the ports used or the name
of the network. </p>
<h3 id="configuration-file-location">Configuration File Location</h3>
<p>You can change the location of the configuration files output by adding a parameter to the <code>expressInstall</code> function 
invocation. However, if you do this you will also need to set other environment variables as well. Please realize that
if you change these variables each of the &quot;hostname&quot; variables will need to be addressable:</p>
<ul>
<li>ZITI_CONTROLLER_HOSTNAME</li>
<li>ZITI_EDGE_CONTROLLER_HOSTNAME</li>
<li>ZITI_EDGE_CONTROLLER_PORT</li>
<li>ZITI_EDGE_ROUTER_HOSTNAME</li>
<li>ZITI_EDGE_ROUTER_PORT</li>
</ul>
<p>Here is an example which allows you to put all the files into a folder called: <code>${HOME}/.ziti/quickstart/newfolder</code>, uses
a host named &#39;localhost&#39;, and uses ports 8800 for the edge controller and 9090 for the edge router:</p>
<pre><code class="lang-bash">ZITI_CONTROLLER_HOSTNAME=localhost; \
ZITI_EDGE_CONTROLLER_HOSTNAME=localhost; \
ZITI_EDGE_CONTROLLER_PORT=8800; \
ZITI_EDGE_ROUTER_HOSTNAME=localhost;ZITI_EDGE_ROUTER_PORT=9090; \
source ziti-cli-functions.sh; expressInstall newfolder
</code></pre><h2 id="sourcing-the-env-file">Sourcing the Env File</h2>
<p>In the case you close your shell and you want to get the same environment variables back into your shell, you can just 
source the &quot;env&quot; file that is placed into the location you specified. For example, if you ran the example above where
the deployed files went to <code>${HOME}/.ziti/quickstart/newfolder</code> you would find an &quot;env&quot; file at 
<code>${HOME}/.ziti/quickstart/newfolder/newfolder.env</code> and source it:</p>
<pre><code class="lang-bash">source ${HOME}/.ziti/quickstart/newfolder/newfolder.env

~ % zitiLogin
Token: aa1c7fb0-85d9-4a79-86b2-5df450c5b4de
Saving identity &#39;default&#39; to ${HOME}/.ziti/quickstart/newfolder/ziti-cli.json
</code></pre><h2 id="install-ziti-admin-console-zac-optional">Install Ziti Admin Console (ZAC) [Optional]</h2>
<p>Once you have the network up and running, if you want to install the UI management console, the ZAC, <a href="../zac/installation.html">follow along with 
the installation guide</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/openziti/ziti-doc/blob/master/docfx_project/ziti/quickstarts/network/local-no-docker.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span class='pull-left'><span><a href='https://netfoundry.io'>©2020 NetFoundry,Inc.</a></span>&nbsp;&nbsp;<span><a href='https://www.netfoundry.io/privacy-policy'>Privacy Policy</a></span>&nbsp;&nbsp;<span><a href='https://www.netfoundry.io/legal-items'>Legal</a></span>&nbsp;&nbsp;<span><a href='https://netfoundry.zendesk.com/hc/en-us'>Support</a></span>&nbsp;&nbsp;</span><span class='pull-right'><span><a href='https://www.facebook.com/NetFoundry/' target='_blank'><img height='25' src='/images/fb.svg'></a></span>&nbsp;<span><a href='https://twitter.com/openziti' target='_blank'><img height='25' src='/images/twit.svg'></a></span>&nbsp;<span><a href='https://www.linkedin.com/company/netfoundry/' target='_blank'><img height='25' src='/images/li.svg'></a></span>&nbsp;<span><a href='https://www.youtube.com/channel/UCAsrfQasdZmp2Gq07Ej_5cQ' target='_blank'><img height='25' src='/images/yt.svg'></a></span>&nbsp;&nbsp;&nbsp;</span><br>
<!-- Place this tag in your head or just before your close body tag. -->
<script async="" defer="" src="https://buttons.github.io/buttons.js"></script>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
