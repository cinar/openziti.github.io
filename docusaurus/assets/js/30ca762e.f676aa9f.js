"use strict";(self.webpackChunkopen_ziti=self.webpackChunkopen_ziti||[]).push([[3310],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),g=r,m=d["".concat(s,".").concat(g)]||d[g]||u[g]||i;return n?o.createElement(m,a(a({ref:t},p),{},{components:n})):o.createElement(m,a({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var c=2;c<i;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3420:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var o=n(7462),r=(n(7294),n(3905)),i=n(8959);const a={},l="Ziti Controller",s={unversionedId:"manage/controller",id:"manage/controller",title:"Ziti Controller",description:"",source:"@site/docs/manage/01-controller.mdx",sourceDirName:"manage",slug:"/manage/controller",permalink:"/docusaurus/docs/manage/controller",draft:!1,editUrl:"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/manage/01-controller.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"rootSidebar",previous:{title:"ZTNA",permalink:"/docusaurus/docs/deployment-architecture/ztna"},next:{title:"Edge Router",permalink:"/docusaurus/docs/manage/edge-router"}},c={},p=[{value:"Prerequisite - PKI",id:"prerequisite---pki",level:3},{value:"Sizing Guidelines",id:"sizing-guidelines",level:2},{value:"Configuration",id:"configuration",level:2}],u={toc:p};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"ziti-controller"},"Ziti Controller"),(0,r.kt)("p",null,"The Ziti Controller is the process that coordinates a ",(0,r.kt)("a",{parentName:"p",href:"xref:zitiOverview#overview-of-a-ziti-network"},"Ziti Networks"),". It\nis responsible for authenticating incoming connections from identities. It also authorizes access to services for any\ngiven identity. The Ziti Controller provides two RESTful APIs for other processes to interact with it. Take a look at\nthe ",(0,r.kt)("a",{parentName:"p",href:"/api/rest/"},"API doc page")," for more info."),(0,r.kt)("h3",{id:"prerequisite---pki"},"Prerequisite - PKI"),(0,r.kt)("p",null,"Public Key Infrastructure (PKI) is a complex topic. See the ",(0,r.kt)("a",{parentName:"p",href:"pki"},"pki")," page for additional details\nabout the sort of needs and considerations relevant to the Ziti Controller. You will need a correct PKI setup for Ziti\nto work. If you follow one of the ",(0,r.kt)("a",{parentName:"p",href:"../quickstarts/network/"},"quickstart guides"),", a full PKI will be\ngenerated for you. This is probably the best way to start out."),(0,r.kt)("h2",{id:"sizing-guidelines"},"Sizing Guidelines"),(0,r.kt)("p",null,"The Ziti Controller and Ziti Routers are still in the process of being stress tested. We recommend starting with a small\nscale deployment until key performance indicators start to hint that the server requires more resources. A\n",(0,r.kt)("a",{parentName:"p",href:"xref:zitiOverview#overview-of-a-ziti-network"},"Ziti Networks")," will have two important metrics: CPU and network capacity.\nModest sized networks require minimal investments in infrastructure. Start with small machines and increase as needed."),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"The Ziti Controller is configured using a ",(0,r.kt)("a",{parentName:"p",href:"https://yaml.org/"},"yaml")," file. If you follow one of the\n",(0,r.kt)("a",{parentName:"p",href:"../quickstarts/network/"},"quickstart guides")," a configuration file will be generated. You can also find a\nsample config file from the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/openziti/ziti/blob/release-next/etc/ctrl.with.edge.yml"},"ziti repo"),"."),(0,r.kt)("p",null,"Each section is annotated and should provide you enough information to modify a given setting. Most of the fields are\nstraight-forward. The pki-related fields are the ones you will need to pay particular attention to. See\nthe ",(0,r.kt)("a",{parentName:"p",href:"pki"},"pki")," page for relevant information on pki settings."),(0,r.kt)(i.ZP,{mdxType:"LoggingSnippetMd"}))}d.isMDXComponent=!0},8959:(e,t,n)=>{n.d(t,{ZP:()=>a});var o=n(7462),r=(n(7294),n(3905));const i={toc:[{value:"Logging",id:"logging",level:2},{value:"Log Format",id:"log-format",level:3},{value:"Log Levels",id:"log-levels",level:3}]};function a(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"logging"},"Logging"),(0,r.kt)("p",null,'The Ziti components log all output to standard output. Logging to standard out, instead of to configurable files, etc.,\nis a "lighter" approach to logging that is more easily integrated into more different kinds of environments. Logging to\nfiles and implementing feautres like file rotation is a solved problem and not one that the Ziti components try to\nsolve.  Instead look to alternatives which are capable of watching standard out and aggregating the results for you.\nThere are many solutions available to collect, aggregate and display logs. Search for and implement a solution that\nworks for you and your needs.'),(0,r.kt)("h3",{id:"log-format"},"Log Format"),(0,r.kt)("p",null,"The output from Ziti components comes in three distinct styles.  Choose the style of logging that is right for you."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"pfxlog")," - a human-readible format leveraging ascii escape codes to display colorized log level"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"json"),"   - a machine-readible format targetting automated processes for log aggregation/searching"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"text"),"   - a human-readible format using plain text (no ascii escape codes)")),(0,r.kt)("h3",{id:"log-levels"},"Log Levels"),(0,r.kt)("p",null,"By default the Ziti components will log at the INFO level. This means that log messages INFO, WARNING, ERROR and FATAL\nwill all be captured and output.  Ziti components all support verbose logging by adding ",(0,r.kt)("inlineCode",{parentName:"p"},"--verbose")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"-v")," to the\ncommand being executed.  Verbose mode will add DEBUG log messages and as the name implies this log level is much more\nverbose. Often when debugging adding verbose mode will aid in identifying issues."))}a.isMDXComponent=!0}}]);